flowchart TD
    Start([Start]) --> Login[Login]
    Login -->|Valid Credentials| Dashboard[Role-specific Dashboard]
    Login -->|Invalid Credentials| LoginFail[Login Failed]
    LoginFail --> Login
    
    %% SaaS Admin User Flow (Complete)
    Dashboard -->|SaaS Admin| SaaSAdminDashboard[SaaS Admin Dashboard]
    SaaSAdminDashboard --> ManageTenants[Manage Tenants]
    SaaSAdminDashboard --> ManageSaaSSettings[Platform Settings]
    SaaSAdminDashboard --> ManageSaaSTeam[Platform Team]
    SaaSAdminDashboard --> ViewPlatformAnalytics[Platform Analytics]
    SaaSAdminDashboard --> ActivityMonitoring[System Activity]
    SaaSAdminDashboard --> AuditLogs[Audit Logs]
    SaaSAdminDashboard --> BackupRestore[Backup & Restore]
    SaaSAdminDashboard --> SystemHealth[System Health]
    
    ManageTenants --> ListTenants[Tenant List]
    ListTenants --> AddTenant[Add Tenant]
    ListTenants --> EditTenant[Edit Tenant]
    ListTenants --> DeactivateTenant[Deactivate Tenant]
    
    ManageSaaSSettings --> ManageBillingPlans[Billing Plans]
    ManageSaaSSettings --> SystemConfig[System Configuration]
    ManageSaaSSettings --> EmailTemplates[Email Templates]
    
    ManageSaaSTeam --> ListSaaSTeam[Team List]
    ListSaaSTeam --> AddSaaSMember[Add Team Member]
    ListSaaSTeam --> EditSaaSMember[Edit Team Member]
    ListSaaSTeam --> DeactivateSaaSMember[Deactivate Member]
    
    ViewPlatformAnalytics --> TenantGrowth[Tenant Growth]
    ViewPlatformAnalytics --> RevenueAnalytics[Revenue Analytics]
    ViewPlatformAnalytics --> UsageStats[Usage Statistics]
    
    ActivityMonitoring --> UserRegistration[User Registration]
    ActivityMonitoring --> TenantActivity[Tenant Activity]
    ActivityMonitoring --> SalesActivity[Sales Activity]
    ActivityMonitoring --> InventoryActivity[Inventory Activity]
    
    AuditLogs --> UserLogs[User Action Logs]
    AuditLogs --> SecurityLogs[Security Logs]
    AuditLogs --> SystemLogs[System Change Logs]
    AuditLogs --> ExportLogs[Export Logs]
    
    BackupRestore --> ConfigureBackups[Configure Backups]
    BackupRestore --> ManualBackup[Manual Backup]
    BackupRestore --> RestoreData[Restore Data]
    
    SystemHealth --> ServerMetrics[Server Metrics]
    SystemHealth --> DatabaseMetrics[Database Metrics]
    SystemHealth --> APIUsage[API Usage]
    SystemHealth --> ErrorRates[Error Rates]
    
    %% Tenant Admin User Flow (Complete)
    Dashboard -->|Tenant Admin| TenantAdminDashboard[Tenant Admin Dashboard]
    TenantAdminDashboard --> ManageShops[Manage Shops]
    TenantAdminDashboard --> ManageTeam[Manage Business Team]
    TenantAdminDashboard --> ViewBusinessReports[Business Reports]
    TenantAdminDashboard --> BusinessSettings[Business Settings]
    TenantAdminDashboard --> ManageBrands[Manage Brands]
    TenantAdminDashboard --> ManageSuppliers[Manage Suppliers]
    TenantAdminDashboard --> ManageTaxes[Manage Taxes]
    TenantAdminDashboard --> FinancialAccounting[Financial Accounting]
    
    ManageShops --> ListShops[Shop List]
    ListShops --> AddShop[Add Shop]
    ListShops --> EditShop[Edit Shop]
    ListShops --> DeactivateShop[Deactivate Shop]
    ListShops --> ShopPerformance[Shop Performance]
    
    ManageTeam --> ListTeamMembers[Team List]
    ListTeamMembers --> AddTeamMember[Add Team Member]
    ListTeamMembers --> EditTeamMember[Edit Team Member]
    ListTeamMembers --> AssignToShops[Assign to Shops]
    ListTeamMembers --> DeactivateTeamMember[Deactivate Member]
    ListTeamMembers --> MemberPerformance[Member Performance]
    
    AddTeamMember --> SelectRole[Select Role]
    SelectRole -->|Manager| AddManager[Add Manager]
    SelectRole -->|Assistant Manager| AddAsstManager[Add Assistant Manager]
    SelectRole -->|Executive| AddExecutive[Add Executive]
    
    ManageBrands --> BrandsList[Brand List]
    BrandsList --> AddBrand[Add Brand]
    BrandsList --> EditBrand[Edit Brand]
    BrandsList --> DeactivateBrand[Deactivate Brand]
    BrandsList --> BrandCategories[Brand Categories]
    BrandsList --> PriceManagement[Price Management]
    
    PriceManagement --> SetRegularPrice[Regular Price]
    PriceManagement --> SetDiscountPrice[Discount Price]
    PriceManagement --> BulkPriceUpdate[Bulk Price Update]
    PriceManagement --> PriceHistory[Price History]
    
    BrandCategories --> CategoryList[Category List]
    CategoryList --> AddCategory[Add Category]
    CategoryList --> EditCategory[Edit Category]
    CategoryList --> AssignBrands[Assign Brands]
    
    ManageSuppliers --> SuppliersList[Supplier List]
    SuppliersList --> AddSupplier[Add Supplier]
    SuppliersList --> EditSupplier[Edit Supplier]
    SuppliersList --> DeactivateSupplier[Deactivate Supplier]
    SuppliersList --> SupplierProducts[Supplier Products]
    SuppliersList --> SupplierHistory[Supplier History]
    SuppliersList --> SupplierContacts[Supplier Contacts]
    
    ManageTaxes --> TaxRates[Tax Rates]
    TaxRates --> AddTaxRate[Add Tax Rate]
    TaxRates --> EditTaxRate[Edit Tax Rate]
    TaxRates --> AssignProductTaxes[Assign To Products]
    TaxRates --> TaxCategories[Tax Categories]
    TaxRates --> TaxCalculator[Tax Calculator]
    
    FinancialAccounting --> ChartOfAccounts[Chart of Accounts]
    FinancialAccounting --> GeneralLedger[General Ledger]
    FinancialAccounting --> ProfitLossReport[Profit & Loss]
    FinancialAccounting --> BalanceSheet[Balance Sheet]
    FinancialAccounting --> TaxReporting[Tax Reporting]
    FinancialAccounting --> BankReconciliation[Bank Reconciliation]
    
    BusinessSettings --> CompanyProfile[Company Profile]
    BusinessSettings --> NotificationSettings[Notifications]
    BusinessSettings --> ApprovalSettings[Approval Workflow]
    BusinessSettings --> RolePermissions[Role Permissions]
    BusinessSettings --> PaymentMethods[Payment Methods]
    
    %% Manager User Flow (Complete)
    Dashboard -->|Manager| ManagerDashboard[Manager Dashboard]
    ManagerDashboard --> ManageInventory[Inventory Management]
    ManagerDashboard --> ManageSales[Sales Management]
    ManagerDashboard --> ViewAnalytics[Analytics]
    ManagerDashboard --> ManageReports[Reports]
    ManagerDashboard --> VerifyFinancials[Financial Verification]
    ManagerDashboard --> ManagePurchases[Purchase Management]
    ManagerDashboard --> ApprovalCenter[Approval Center]
    
    ManageInventory --> ViewStockLevels[Stock Levels]
    ManageInventory --> StockTransfers[Stock Transfers]
    ManageInventory --> ApproveAdjustments[Approve Adjustments]
    ManageInventory --> ExpiryTracking[Expiry Tracking]
    ManageInventory --> AddEditBrands[Add/Edit Brands]
    ManageInventory --> StockAlerts[Stock Alerts]
    
    ViewStockLevels --> CurrentStock[Current Stock]
    ViewStockLevels --> LowStock[Low Stock]
    ViewStockLevels --> StockHistory[Stock History]
    ViewStockLevels --> CompareShops[Compare Shops]
    
    ExpiryTracking --> SetExpiry[Set Expiry]
    ExpiryTracking --> ViewExpiring[View Expiring]
    ExpiryTracking --> ExpiryAlerts[Expiry Alerts]
    ExpiryTracking --> ExpiryActions[Expiry Actions]
    
    ManageSales --> ApproveSales[Approve Sales]
    ManageSales --> ViewSalesHistory[Sales History]
    ManageSales --> ManageReturns[Returns]
    ManageSales --> SalesReporting[Sales Reporting]
    ManageSales --> SalesTargets[Sales Targets]
    
    ApproveSales --> ReviewSales[Review Sales]
    ApproveSales --> BatchApprove[Batch Approve]
    ApproveSales --> RequestChanges[Request Changes]
    
    ManageReturns --> ViewPendingReturns[Pending Returns]
    ManageReturns --> ApproveReturns[Approve Returns]
    ManageReturns --> ReturnHistory[Return History]
    
    ViewAnalytics --> SalesAnalytics[Sales Analytics]
    ViewAnalytics --> InventoryAnalytics[Inventory Analytics]
    ViewAnalytics --> FinancialAnalytics[Financial Analytics]
    ViewAnalytics --> ExecutivePerformance[Executive Performance]
    ViewAnalytics --> ShopPerformanceAnalytics[Shop Performance]
    ViewAnalytics --> TaxAnalytics[Tax Analytics]
    ViewAnalytics --> SupplierAnalytics[Supplier Analytics]
    
    ManageReports --> GenerateReports[Generate Reports]
    ManageReports --> ScheduleReports[Schedule Reports]
    ManageReports --> CustomReports[Custom Reports]
    ManageReports --> ReportHistory[Report History]
    ManageReports --> ExportReports[Export Reports]
    
    VerifyFinancials --> ReviewDeposits[Review Deposits]
    VerifyFinancials --> VerifyBankDeposits[Verify Bank Deposits]
    VerifyFinancials --> VerifyUPITransactions[Verify UPI Transactions]
    VerifyFinancials --> ReconcileFinancials[Reconcile Financials]
    VerifyFinancials --> ReviewExpenses[Review Expenses]
    
    ManagePurchases --> CreatePO[Create Purchase Orders]
    ManagePurchases --> TrackPO[Track Purchase Orders]
    ManagePurchases --> ReceiveInventory[Receive Inventory]
    ManagePurchases --> ViewPurchaseHistory[Purchase History]
    ManagePurchases --> ManageInvoices[Manage Invoices]
    
    CreatePO --> SelectSupplier[Select Supplier]
    CreatePO --> AddPOItems[Add Items]
    CreatePO --> SetQuantitiesRates[Set Quantities & Rates]
    CreatePO --> ApplyTaxes[Apply Taxes]
    CreatePO --> CalculateTotals[Calculate Totals]
    CreatePO --> SubmitPO[Submit PO]
    
    ReceiveInventory --> SelectPO[Select PO]
    ReceiveInventory --> VerifyItems[Verify Items]
    ReceiveInventory --> RecordDiscrepancies[Record Discrepancies]
    ReceiveInventory --> BatchDetails[Batch Details]
    ReceiveInventory --> ExpiryDates[Expiry Dates]
    ReceiveInventory --> UpdateStock[Update Stock]
    ReceiveInventory --> GenerateGRN[Generate GRN]
    
    ApprovalCenter --> ApproveSalesCenter[Sales Approvals]
    ApprovalCenter --> ApproveAdjustmentsCenter[Adjustment Approvals]
    ApprovalCenter --> ApproveReturnsCenter[Return Approvals]
    ApprovalCenter --> ApproveDepositsCenter[Deposit Approvals]
    ApprovalCenter --> ApprovePurchasesCenter[Purchase Approvals]
    ApprovalCenter --> BatchApprovals[Batch Approvals]
    
    %% Assistant Manager User Flow (Complete)
    Dashboard -->|Assistant Manager| AsstManagerDashboard[Assistant Manager Dashboard]
    AsstManagerDashboard --> AMInventory[Inventory Management]
    AsstManagerDashboard --> AMApprovals[Pending Approvals]
    AsstManagerDashboard --> AMAnalytics[Analytics]
    AsstManagerDashboard --> AMPurchases[Purchase Management]
    AsstManagerDashboard --> AMReports[Reports]
    
    AMInventory --> AMViewStock[View Stock]
    AMInventory --> AMAddBrands[Add/Edit Brands]
    AMInventory --> AMExpiryTracking[Expiry Tracking]
    AMInventory --> AMStockTransfers[Stock Transfers]
    
    AMApprovals --> AMSales[Sales Approvals]
    AMApprovals --> AMAdjustments[Adjustment Approvals]
    AMApprovals --> AMReturns[Return Approvals]
    AMApprovals --> AMDeposits[Deposit Approvals]
    AMApprovals --> AMPendingPurchases[Purchase Approvals]
    
    AMPurchases --> AMCreatePO[Create Purchase Orders]
    AMPurchases --> AMTrackPO[Track Purchase Orders]
    AMPurchases --> AMReceiveInventory[Receive Inventory]
    
    AMAnalytics --> AMSalesAnalytics[Sales Analytics]
    AMAnalytics --> AMInventoryAnalytics[Inventory Analytics]
    AMAnalytics --> AMExecutiveAnalytics[Executive Analytics]
    
    AMReports --> AMGenerateReports[Generate Reports]
    AMReports --> AMViewReportHistory[View Report History]
    
    %% Executive User Flow (Complete)
    Dashboard -->|Executive| ExecutiveDashboard[Executive Dashboard]
    ExecutiveDashboard --> MultiShopSelect[Multi-Shop Selector]
    ExecutiveDashboard --> RecordSales[Record Sales]
    ExecutiveDashboard --> StockAdjustment[Stock Adjustment]
    ExecutiveDashboard --> ProcessReturns[Process Returns]
    ExecutiveDashboard --> ViewSummary[Daily Summary]
    ExecutiveDashboard --> ManageCash[Cash Management]
    ExecutiveDashboard --> CheckExpiry[Expiry Management]
    ExecutiveDashboard --> MyApprovals[My Approvals]
    ExecutiveDashboard --> MyReports[My Reports]
    
    %% Enhanced Executive Flows (Complete)
    MultiShopSelect --> ShopSwitch[Quick Shop Switch]
    MultiShopSelect --> ShopDashboard[Shop Dashboard]
    
    RecordSales --> CreateSale[New Sale]
    RecordSales --> BatchSale[Batch Sale Entry]
    RecordSales --> ViewSaleHistory[View Sales History]
    RecordSales --> DraftSales[Draft Sales]
    
    CreateSale --> SelectShop[Select Shop]
    CreateSale --> AddSaleItems[Add Items]
    CreateSale --> ApplySaleTaxes[Apply Taxes]
    CreateSale --> SetPaymentMethod[Set Payment Method]
    CreateSale --> CalculateSaleTotal[Calculate Total]
    CreateSale --> SubmitSingleSale[Submit Sale]
    
    BatchSale --> FilterCategories[Filter Categories]
    BatchSale --> SelectBrands[Select Brands]
    BatchSale --> EnterQuantities[Enter Quantities]
    BatchSale --> AddDiscounts[Add Discounts]
    BatchSale --> AddRemarks[Add Remarks]
    BatchSale --> ApplyBatchTaxes[Apply Taxes]
    BatchSale --> CalculateBatchTotal[Calculate Total]
    BatchSale --> SubmitBatchSale[Submit Batch]
    
    AddDiscounts --> RegularPrice[Regular Price]
    AddDiscounts --> DiscountPrice[Discount Price]
    AddDiscounts --> DiscountReason[Discount Reason]
    
    StockAdjustment --> SingleAdjust[Single Adjustment]
    StockAdjustment --> BatchAdjust[Batch Adjustment]
    StockAdjustment --> ViewAdjustmentHistory[Adjustment History]
    StockAdjustment --> DraftAdjustments[Draft Adjustments]
    
    SingleAdjust --> SelectShopAdjust[Select Shop]
    SingleAdjust --> SelectItemAdjust[Select Item]
    SingleAdjust --> EnterNewQuantity[Enter New Quantity]
    SingleAdjust --> ProvideReason[Provide Reason]
    SingleAdjust --> SubmitSingleAdjust[Submit Adjustment]
    
    BatchAdjust --> FilterStock[Filter Stock]
    BatchAdjust --> QuickEntry[Quick Entry]
    BatchAdjust --> SplitTypes[Split by Types]
    BatchAdjust --> RecordReasons[Record Reasons]
    BatchAdjust --> ReviewChanges[Review Changes]
    BatchAdjust --> SubmitBatchAdjust[Submit Batch]
    
    SplitTypes --> RegularSale[Regular Sales]
    SplitTypes --> DiscountSale[Discount Sales]
    SplitTypes --> Complimentary[Complimentary]
    SplitTypes --> Breakage[Breakage/Loss]
    
    ProcessReturns --> CreateReturnRequest[Create Return]
    ProcessReturns --> ViewReturnHistory[Return History]
    
    CreateReturnRequest --> SelectSaleReturn[Select Sale]
    CreateReturnRequest --> SelectReturnItems[Select Items]
    CreateReturnRequest --> EnterReturnQty[Enter Quantities]
    CreateReturnRequest --> ProvideReturnReason[Provide Reason]
    CreateReturnRequest --> SubmitReturn[Submit Return]
    
    ManageCash --> CashBalance[Cash Balance]
    ManageCash --> BankDeposit[Bank Deposit]
    ManageCash --> UPITransaction[UPI Transaction]
    ManageCash --> Expenses[Expenses]
    ManageCash --> CashHistory[Cash History]
    
    CashBalance --> ViewOpeningBalance[Opening Balance]
    CashBalance --> ViewCurrentBalance[Current Balance]
    CashBalance --> RecordCashSales[Cash Sales]
    
    BankDeposit --> EnterDepositAmount[Enter Amount]
    BankDeposit --> SelectDepositDate[Select Date]
    BankDeposit --> UploadDepositReceipt[Upload Receipt]
    BankDeposit --> DepositRemarks[Add Remarks]
    BankDeposit --> SubmitDeposit[Submit Deposit]
    
    UPITransaction --> EnterUPIAmount[Enter Amount]
    UPITransaction --> EnterReferenceNumber[Enter Reference]
    UPITransaction --> UploadUPIScreenshot[Upload Screenshot]
    UPITransaction --> UPIRemarks[Add Remarks]
    UPITransaction --> SubmitUPI[Submit UPI]
    
    Expenses --> ExpenseCategories[Expense Categories]
    Expenses --> EnterExpenseAmount[Enter Amount]
    Expenses --> ExpenseReason[Expense Reason]
    Expenses --> UploadExpenseReceipt[Upload Receipt]
    Expenses --> SubmitExpense[Submit Expense]
    
    ViewSummary --> TodaySummary[Today's Summary]
    ViewSummary --> PaymentBreakdown[Payment Breakdown]
    ViewSummary --> TaxSummary[Tax Summary]
    ViewSummary --> BrandwiseSales[Brandwise Sales]
    ViewSummary --> SummarySales[Sales Summary]
    ViewSummary --> SummaryInventory[Inventory Summary]
    ViewSummary --> SummaryFinancials[Financial Summary]
    
    CheckExpiry --> ViewExpiryList[View Expiry List]
    CheckExpiry --> ReportExpiry[Report Expiry]
    CheckExpiry --> ExpiryAction[Take Action]
    
    MyApprovals --> ViewPendingItems[Pending Items]
    MyApprovals --> ViewApprovedItems[Approved Items]
    MyApprovals --> ViewRejectedItems[Rejected Items]
    MyApprovals --> ResubmitRejected[Resubmit Rejected]
    
    MyReports --> DailySalesReport[Daily Sales]
    MyReports --> InventoryReport[Inventory Report]
    MyReports --> CashReport[Cash Report]
    MyReports --> CustomExecutiveReport[Custom Report]
    
    %% Approval Flows (Complete)
    SubmitSingleSale --> SalePending[Sale Pending Approval]
    SubmitBatchSale --> SalePending
    SalePending --> SaleApproved[Sale Approved]
    SalePending --> SaleRejected[Sale Rejected]
    
    SubmitSingleAdjust --> AdjustmentPending[Adjustment Pending]
    SubmitBatchAdjust --> AdjustmentPending
    AdjustmentPending --> AdjustApproved[Adjustment Approved]
    AdjustmentPending --> AdjustRejected[Adjustment Rejected]
    
    SubmitReturn --> ReturnPending[Return Pending]
    ReturnPending --> ReturnApproved[Return Approved]
    ReturnPending --> ReturnRejected[Return Rejected]
    
    SubmitDeposit --> DepositPending[Deposit Pending]
    DepositPending --> DepositVerified[Deposit Verified]
    DepositPending --> DepositRejected[Deposit Rejected]
    
    SubmitUPI --> UPIPending[UPI Pending]
    UPIPending --> UPIVerified[UPI Verified]
    UPIPending --> UPIRejected[UPI Rejected]
    
    SubmitExpense --> ExpensePending[Expense Pending]
    ExpensePending --> ExpenseApproved[Expense Approved]
    ExpensePending --> ExpenseRejected[Expense Rejected]
    
    SubmitPO --> POPending[PO Pending]
    POPending --> POApproved[PO Approved]
    POPending --> PORejected[PO Rejected]
    
    %% Reporting System (Complete)
    ViewBusinessReports --> ReportFilters[Filter Reports]
    ViewBusinessReports --> SalesReport[Sales Reports]
    ViewBusinessReports --> InventoryReport[Inventory Reports]
    ViewBusinessReports --> CashReport[Cash Flow Reports]
    ViewBusinessReports --> TaxReport[Tax Reports]
    ViewBusinessReports --> SupplierReport[Supplier Reports]
    ViewBusinessReports --> ExpiryReport[Expiry Reports]
    ViewBusinessReports --> ExecutiveReport[Executive Reports]
    ViewBusinessReports --> ProfitReport[Profit Analysis]
    ViewBusinessReports --> FinancialStatements[Financial Statements]
    
    ReportFilters --> FilterByDate[Filter by Date]
    ReportFilters --> FilterByShop[Filter by Shop]
    ReportFilters --> FilterByBrand[Filter by Brand]
    ReportFilters --> FilterByCategory[Filter by Category]
    ReportFilters --> FilterByExecutive[Filter by Executive]
    ReportFilters --> FilterBySupplier[Filter by Supplier]
    
    SalesReport --> DailySales[Daily Sales]
    SalesReport --> MonthlySales[Monthly Sales]
    SalesReport --> BrandwiseSalesReport[Brandwise Sales]
    SalesReport --> ShopwiseSales[Shopwise Sales]
    SalesReport --> ExecutivewiseSales[Executivewise Sales]
    
    InventoryReport --> CurrentInventory[Current Inventory]
    InventoryReport --> InventoryMovement[Inventory Movement]
    InventoryReport --> StockAdjustmentReport[Stock Adjustments]
    InventoryReport --> ExpiryStatusReport[Expiry Status]
    
    CashReport --> DailyCashFlow[Daily Cash Flow]
    CashReport --> BankDepositsReport[Bank Deposits]
    CashReport --> UPITransactionsReport[UPI Transactions]
    CashReport --> ExpensesReport[Expenses Report]
    
    TaxReport --> TaxCollectionReport[Tax Collection]
    TaxReport --> TaxSummaryReport[Tax Summary]
    TaxReport --> TaxCategoryReport[Tax by Category]
    
    %% Data Export & Import
    ReportFilters --> ExportData[Export Data]
    ExportData --> ExportToExcel[Export to Excel]
    ExportData --> ExportToCSV[Export to CSV]
    ExportData --> ExportToPDF[Export to PDF]
    
    BusinessSettings --> ImportData[Import Data]
    ImportData --> ImportProducts[Import Products]
    ImportData --> ImportSuppliers[Import Suppliers]
    ImportData --> ImportInventory[Import Inventory]